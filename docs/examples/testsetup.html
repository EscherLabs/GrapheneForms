<!DOCTYPE html>
<html lang="en">
  <head>

		<link rel='stylesheet' type='text/css' href='../assets/css/font-awesome.min.css'>
    <link rel='stylesheet' type='text/css' href='../assets/css/bootstrap.min.css'>
    <!-- <link rel="stylesheet" href="../assets/css/normalize.css">    
    <link rel="stylesheet" href="../assets/css/gform.css"> -->
  </head>
  <body>

    <div class="container " id="form">
    </div>
    <script src="../assets/js/lodash.min.js"></script>    
    <script src='../assets/js/gform.js'></script>
    <!-- <script src='../assets/js/default.js'></script> -->
    <script src='../assets/vendor/js/jquery.js'></script>

    <script src='../assets/js/bootstrap.js'></script> 

    <script>
    //   options = {
    //       legend: 'Basic Form',
    //       fields:[
    //         {label: 'Field Label', name: 'label'}
    //       ]
    //   }
    //   options = {data:{resources:[{name:"adsfa",type:"Monday"},{name:"aasdfadsfa",type:"test"}]}, actions:[],fields:[
			
    //   {name:"resources",label:false,array:{min:3,max:3},type:"fieldset",fields:[
    //     {name:"name",label:false, columns:6,type:"output",format:{value:'<label style="float:right">{{value}}:</label>'}},
    //     {name:"type",label:false,type:"select",edit:true,columns:6,
    //     options:[{type:'optgroup', path:'../data/days.json'}]
    //     // options:'../data/days.json'
    //   },
    //     // {columns:3,show:[{type:"matches",name:"type",value:"string"}]},
    //     // {columns:3,type:"select",show:[{type:"matches",name:"type",value:"group"}]},
    //     // {columns:3,type:"select",options:'/api/groups/'+data.group_id+'/endpoints',show:[{type:"matches",name:"type",value:"endpoint"}],format:{label:"{{name}}",value:"{{id}}"}},
    //     // {columns:3,show:[{type:"matches",name:"type",value:"user"}]}

    //   ]}
    // ]}
    //   var myform = new gform(options, '#form')

    new gform({
	"legend": "Form",
	"name": "form",
	"autoFocus": true,
	"default": {
		"horizontal": true,
		columns:6
	},
	actions:[],
	"horizontal": true,
	"fields": [
		{
			"type": "text",
			"label": "Label",
			"name": "path",
			"value": "192.168.86.47",
			"parse": false,
			"showColumn": true
		},
		{
			"type": "switch",
			"label": "Toggle",
			"name": "toggle",
			"parse": false,
			"options": [
				{
					"value": {DO:false,D1:true}
				},
				{
					"value": {D0:true,D1:false}
				}
			]
		},
		// {
		// 	"type": "switch",
		// 	"label": "D0",
		// 	"name": "D0",
		// 	"options": [
		// 		{
		// 			"value": false
		// 		},
		// 		{
		// 			"value": true
		// 		}
		// 	]
		// },
		// {
		// 	"type": "switch",
		// 	"label": "D1",
		// 	"name": "D1",
		// 	"showColumn": true,
		// 	"options": [
		// 		{
		// 			"value": false
		// 		},
		// 		{
		// 			"value": true
		// 		}
		// 	]
		// }
	]
},"#form").on('input:toggle',e=>{
		$.ajax({
			type: 'POST',
			url:'http://'+e.form.get('path')+'/setpins',
// 			url:'http://localhost:8888/docs/data/states.json',
			data: JSON.stringify(e.field.value),
			success:function(data){	
				e.console.log(data)
			}
            
        })
	}).on('save',(e)=>{
        // app.post('target',e.form.get())
        debugger;
        $.ajax({
			type: 'POST',
			url:'http://'+e.form.get('path')+'/setpins',
// 			url:'http://localhost:8888/docs/data/states.json',
			data: JSON.stringify(e.form.get()),
			success:function(data){	
				e.console.log(data)
			}
            
        })
        
    })
    </script>
   </body>
</html>